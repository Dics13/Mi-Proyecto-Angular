{"ast":null,"code":"import _asyncToGenerator from \"C:/gualda training/angular/proyect/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { ListaPersonajes } from 'src/app/ngrx/personajes.action';\nimport axios from \"axios\";\nlet FilmsComponent = class FilmsComponent {\n  constructor(SwapiService, Store) {\n    this.SwapiService = SwapiService;\n    this.Store = Store;\n    this.films = [];\n    this.listaPersonajes = [];\n  }\n  ngOnInit() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      let datos = yield axios.get(\"https://swapi.dev/api/films\");\n      _this.films = datos.data.results.map(ele => {\n        return {\n          nombre: ele.title,\n          id: ele.episode_id,\n          director: ele.director,\n          personajes: \"Personajes\"\n        };\n      });\n    })();\n  }\n  tomarId(id) {\n    this.SwapiService.getPersonajes(id).then(res => {\n      this.listaPersonajes = res;\n      this.Store.dispatch(ListaPersonajes(this.listaPersonajes));\n    });\n  }\n};\nFilmsComponent = __decorate([Component({\n  selector: 'app-films',\n  templateUrl: './films.component.html',\n  styleUrls: ['./films.component.css']\n})], FilmsComponent);\nexport { FilmsComponent };","map":{"version":3,"mappings":";;AAAA,SAASA,SAAS,QAAO,eAAe;AAGxC,SAASC,eAAe,QAAQ,gCAAgC;AAChE,OAAOC,KAAK,MAAM,OAAO;AAOlB,IAAMC,cAAc,GAApB,MAAMA,cAAc;EAK3BC,YAAqBC,YAAyB,EAAUC,KAAS;IAA5C,iBAAY,GAAZD,YAAY;IAAuB,UAAK,GAALC,KAAK;IAJ3D,UAAK,GAAK,EAAE;IACZ,oBAAe,GAAK,EAAE;EAIxB;EACMC,QAAQ;IAAA;IAAA;MACZ,IAAIC,KAAK,SAAQN,KAAK,CAACO,GAAG,CAAC,6BAA6B,CAAC;MACzD,KAAI,CAACC,KAAK,GAACF,KAAK,CAACG,IAAI,CAACC,OAAO,CAACC,GAAG,CAAEC,GAAO,IAAG;QAC3C,OAAM;UACJC,MAAM,EAACD,GAAG,CAACE,KAAK;UAChBC,EAAE,EAACH,GAAG,CAACI,UAAU;UACjBC,QAAQ,EAACL,GAAG,CAACK,QAAQ;UACrBC,UAAU,EAAC;SACZ;MACH,CAAC,CAAC;IAAA;EACJ;EAEGC,OAAO,CAACJ,EAAM;IACd,IAAI,CAACZ,YAAY,CAACiB,aAAa,CAACL,EAAE,CAAC,CAACM,IAAI,CAAEC,GAAO,IAAG;MACjD,IAAI,CAACC,eAAe,GAACD,GAAG;MACxB,IAAI,CAAClB,KAAK,CAACoB,QAAQ,CAACzB,eAAe,CAAC,IAAI,CAACwB,eAAe,CAAC,CAAC;IAC7D,CAAC,CAAC;EAEL;CAEC;AA3BYtB,cAAc,eAL1BH,SAAS,CAAC;EACT2B,QAAQ,EAAE,WAAW;EACrBC,WAAW,EAAE,wBAAwB;EACrCC,SAAS,EAAE,CAAC,uBAAuB;CACpC,CAAC,GACW1B,cAAc,CA2B1B;SA3BYA,cAAc","names":["Component","ListaPersonajes","axios","FilmsComponent","constructor","SwapiService","Store","ngOnInit","datos","get","films","data","results","map","ele","nombre","title","id","episode_id","director","personajes","tomarId","getPersonajes","then","res","listaPersonajes","dispatch","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\gualda training\\angular\\proyect\\src\\app\\componentes\\films\\films.component.ts"],"sourcesContent":["import { Component} from '@angular/core';\nimport { SwapiService } from 'src/app/servicios/swapi.service'; \nimport { Store } from '@ngrx/store';\nimport { ListaPersonajes } from 'src/app/ngrx/personajes.action';\nimport axios from \"axios\"\n\n@Component({\n  selector: 'app-films',\n  templateUrl: './films.component.html',\n  styleUrls: ['./films.component.css']\n})\nexport class FilmsComponent {\n  films:any=[];\n  listaPersonajes:any=[];\n\n\nconstructor( private SwapiService:SwapiService, private Store:any){\n}\nasync ngOnInit(){\n  let datos= await axios.get(\"https://swapi.dev/api/films\")\n  this.films=datos.data.results.map((ele:any)=>{\n    return{\n      nombre:ele.title,\n      id:ele.episode_id,\n      director:ele.director,\n      personajes:\"Personajes\"\n    }\n  })\n}\n \n   tomarId(id:any){\n   this.SwapiService.getPersonajes(id).then((res:any)=>{\n      this.listaPersonajes=res;\n      this.Store.dispatch(ListaPersonajes(this.listaPersonajes))\n   })\n   \n}\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}